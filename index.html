<!DOCTYPE html>
<html lang="kor" dir="ltr">
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="format-detection" content="telephone=no">
        <link href="./css/style.css" rel="stylesheet">

        <script src="./js/jquery-1.10.2.min.js"></script>

        <script src="./js/jquery.easing.1.3.js"></script>
        <script src="./js/jquery-ui.min.js"></script>



    </head>
    <div id="wrap" class="product_detail">
    <section id="container">

        <div id="popSkinSizeRecom" class="pop_skin_size_recom layer_dim open">

            <div class="layer_wrap">
                <h2 class="layer_title">등록</h2>
                <div class="layer_cont">
                    <div class="size_recommend customer_info">
                        <div class="text_wrap">
                            <p>
                                블라블라블라블라블라블라블라블라.<br>
                                블라블라블라블라블라블라블라블라
                            </p>
                        </div>
                        <div class="ac_list_wrap">
                            <ul>
                                <!-- s: 신체 -->
                                <li>
                                    <a href="#void">사이즈</a>
                                    <div class="ac_cont">
                                        <div class="customer_info_box">
                                            <h3 class="tit"><strong>키</strong></h3>
                                            <div class="c_box_list advice"><!-- 미정보입력시  class advice 추가 -->
                                                <label class="c_box"><input type="number" pattern="\d*" placeholder="입력해주세요."><span>cm</span></label>
                                            </div>
                                        </div>
                                        <div class="customer_info_box"><!-- 미정보입력시 필수라인 전체 적용할 경우  class advice 추가 -->
                                            <ul class="select_list">
                                                <li>
                                                    <h3 class="tit"><strong>상의사이즈</strong></h3>
                                                    <span class="d_select advice" data-title="상의사이즈 선택" data-default="선택하기">
                                                        <select id="" name="" title="상의사이즈 선택">
                                                            <option>XS 이하</option>
                                                            <option>S</option>
                                                            <option>M</option>
                                                            <option>L</option>
                                                            <option>XL</option>
                                                            <option>XXL</option>
                                                            <option>XXXL 이상</option>
                                                        </select>
                                                    <button type="button">선택하기</button></span>
                                                </li>
                                                <li>
                                                    <h3 class="tit"><strong>하의사이즈</strong></h3>
                                                    <span class="d_select advice" data-title="하의사이즈 선택" data-default="선택하기"><!-- 미정보입력시  class advice 추가 -->
                                                        <select id="" name="" title="하의사이즈 선택">
                                                            <option>22 이하</option>
                                                            <option>23</option>
                                                            <option>24</option>
                                                            <option>25</option>
                                                            <option>26</option>
                                                        </select>
                                                    <button type="button">선택하기</button></span>
                                                </li>
                                            </ul>
                                            <p class="txt_advice">※ 상의사이즈, 하의사이즈 정보를 입력해주세요.</p>
                                        </div>
                                    </div>
                                </li>
                                <!-- e: 신체 -->
                                <!-- s: 발 -->
                                <li>
                                    <a href="#void">발</a>
                                    <div class="ac_cont">
                                        <div class="customer_info_box">
                                            <h3 class="tit"><strong>발사이즈</strong></h3>
                                            <span class="d_select advice" data-title="발사이즈 선택" data-default="선택하기"><!-- 미정보입력시  class advice 추가 -->
                                                <select id="" name="" title="발사이즈 선택">
                                                    <option>215 이하</option>
                                                    <option>220</option>
                                                    <option>225</option>
                                                    <option>235</option>
                                                </select>
                                            <button type="button">선택하기</button></span>
                                        </div>
                                        <div class="customer_info_box">
                                            <h3 class="tit"><strong>발볼</strong></h3>
                                            <ul class="customer_info_list"><!-- 미정보입력시 필수라인 전체 적용할 경우 class adivce 추가 -->
                                                <li><!-- 미정보입력시 각각의 필수라인 추가 시 : li의 class advice 추가 가능-->
                                                    <input type="radio" name="foot" id="foot_size_01" checked="checked">
                                                    <label for="foot_size_01">좁음</label>
                                                </li>
                                                <li>
                                                    <input type="radio" name="foot" id="foot_size_02">
                                                    <label for="foot_size_02">보통</label>
                                                </li>
                                                <li>
                                                    <input type="radio" name="foot" id="foot_size_03">
                                                    <label for="foot_size_03">넓음</label>
                                                </li>
                                            </ul>
                                           <p class="txt_advice">※ 발사이즈, 발볼 정보를 입력해주세요.</p>
                                        </div>
                                    </div>
                                </li>
                                <!-- e: 발 -->
                                <!-- s: 피부 -->
                                <li>
                                    <a href="#void">피부</a>
                                    <div class="ac_cont">
                                        <div class="customer_info_box">
                                            <h3 class="tit"><strong>피부타입</strong></h3>
                                            <ul class="customer_info_list advice"><!-- 미정보입력시 필수라인 전체 적용할 경우 class adivce 추가 -->
                                                <li><!-- 미정보입력시 각각의 필수라인 추가 시 : li의 class advice 추가 가능-->
                                                    <input type="radio" name="skin_type02" id="oliy" checked="checked">
                                                    <label for="oliy">지성</label>
                                                </li>
                                                <li>
                                                    <input type="radio" name="skin_type02" id="dry">
                                                    <label for="dry">건성</label>
                                                </li>
                                                <li>
                                                    <input type="radio" name="skin_type02" id="combi">
                                                    <label for="combi">복합성</label>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="customer_info_box">
                                            <h3 class="tit"><strong>피부고민</strong><span class="util">(중복선택 가능/최대 3개)</span></h3>
                                            <ul class="customer_info_list"><!-- 미정보입력시 필수라인 전체 적용할 경우 class adivce 추가 -->
                                                <li><!-- 미정보입력시 각각의 필수라인 추가 시 : li의 class advice 추가 가능-->
                                                    <input type="checkbox" name="skin_trouble" id="anti" checked="checked">
                                                    <label for="anti">안티에이징</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="blemish">
                                                    <label for="blemish">잡티개선</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="nutrition">
                                                    <label for="nutrition">영양&amp;탄력</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="refreshing">
                                                    <label for="refreshing">보습</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="acne">
                                                    <label for="acne">트러블</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="ender">
                                                    <label for="ender">민감성</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="white">
                                                    <label for="white">미백</label>
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="skin_trouble" id="pore">
                                                    <label for="pore">모공케어</label>
                                                </li>
                                            </ul>
                                            <p class="txt_advice">※ 피부타입, 피부고민 정보를 입력해주세요.</p>
                                        </div>
                                    </div>
                                </li>
                                <!-- e: 피부 -->
                            </ul>
                        </div>

                        <div class="size_skin_agree">

                            <div class="agree_tit">
                                <span class="check_label">개인정보 제공 및 관련 동의</span>
                                <a href="#none" class="btn_opens">
                                    <span class="ico_arr">열기/닫기</span>
                                </a>
                            </div>
                            <div class="agree_cont"><!-- 22-05-26 개인정보 관련 내용 수정 -->
                                <p>
                                    블라블블라블라블블라블블라블블라블블라블블라블블라블블라블블라블라블블라블라블블라블블라블블라블블라블블라블블라블블라블블
                                    블라블블라블라블블라블블라블블라블블라블블라블블라블블라블블블라블블라블라블블라블블라블블라블블라블블라블블라블블라블블
                                    블라블블라블라블블라블블라블블라블블라블블라블블라블블라블블블라블블라블라블블라블블라블블라블블라블블라블블라블블라블블

                                </p>
                            </div>


                          </div>


                    </div>
                </div>
                <div class="btn_area col2 active_part">
                    <button type="button" class="btn_mtype1 c1" onclick="dimLayerClose('popSkinSizeRecom');">닫기</button>
                    <button type="button" class="btn_mtype1 c2">동의 및 저장</button>
                </div>
            </div>
        </div>


    </section>
</div>
</html>

<script type="text/javascript">

    $(function(){

        layerPopupFlexible('popSkinSizeRecom');
        function layerPopupFlexible(id, isScroll) {

                var layerId = $('#' + id),
                    layerWrap = layerId.find('.layer_wrap'),
                    layerContent = layerId.find('.layer_cont'),
                    btnClose = layerId.find('.close'),
                    win = $('html, body'),
                    winScroll = $(window).scrollTop(),
                    startY = 0,
                    overflowHiddenLayer = "pdGoodsImgFull, pdImgFull, returnAccount";
                if (layerId.length < 1) {
                    return;
                }

                layerId.addClass('open');

                win.css({ 'overflow': 'hidden', 'height': '' })
                    .on('touchmove', function (e) { e.preventDefault(); });

                // 윈도우 스크롤이 없어야 하는 경우
                if (overflowHiddenLayer.indexOf(id) !== -1 || layerWrap.hasClass('sendFrame')) {
                    window.currentTop = $(window).scrollTop();
                    win.css({ 'height': '100%' });
                    win.addClass("overflowCut");
                }

                layerId.on('touchmove', function (e) { e.preventDefault() });


                //scrollOff(layerContent);


            const popObjCont = layerId.find(".layer_cont")[0].children[0];
                var winHeight = window.innerHeight;
                var per = winHeight * 80 / 100;
                var popTitleHeight = layerId.find('.layer_title').height() || 0;
                var popBtnsHeight = layerId.find('.btn_area').height() || 0;
                var titleBtnsHeight = popTitleHeight + popBtnsHeight;

                const observer = new ResizeObserver(object => {
                    for (let obj of object) {
                        var {height} = obj.contentRect,
                        popHeight = height + titleBtnsHeight; // 콘텐츠 높이 + 헤더&버튼 영역 높이

                        var layerContentHeight = layerWrap.innerHeight();
                        if (isScroll || popHeight > per) { // 콘텐츠 높이가 윈도우 높이의 80% 이상으로 넘치면
                            layerWrap.addClass('scroll')
                        } else if (layerWrap.hasClass('scroll') && popHeight < per) {
                            layerWrap.removeClass('scroll')
                        } else {
                        }
                    }

                    (layerWrap.hasClass('scroll')) ? layerContent.on('touchmove', function (e) {

                        e.stopPropagation();


                    }) : layerId.on('touchmove', function (e) {e.stopPropagation()});

                });
                observer.observe(popObjCont)
            }



        // 아코디언 메뉴 클릭 시
        $('#popSkinSizeRecom .ac_list_wrap').find("li > a").click(function(e){
            var ThisView = $(this).parent();
            var cont_off_top,
                con_height,
                con_height2,
                total;

            if(ThisView.hasClass("on")){
                ThisView.removeClass("on");

            } else {

                cont_off_top = ThisView.position().top;
                ThisView.css('border','1px solid red')
                con_height = ThisView.prev().outerHeight();
                con_height2 = ThisView.outerHeight();
                console.log("cont_off_top  " + cont_off_top);
                $('#popSkinSizeRecom .layer_cont').animate({scrollTop : cont_off_top  } , 400);
                ThisView.addClass("on");


            }
            return false;
        });

        // 개인정보 제공 및 관련동의 클릭 시
        $('#popSkinSizeRecom .size_skin_agree').find(".agree_tit > a").click(function(e){

            var agree_tit =  $(this).parent('');
            var off_top,
                agree_cont =  $(this).parent('.agree_tit').next('.agree_cont'),
                agree_box = $(this).parents('.inner'),
                agree_h ;


            if(agree_tit.hasClass("on")){
                agree_tit.removeClass("on")
            } else {


                off_top =  $('.size_skin_agree').position().top;
                console.log("off_top :" + off_top);
                console.log("agree_h :" + agree_h);
                var a = off_top + agree_h
                console.log("a :" + a)
                $('#popSkinSizeRecom .layer_cont').animate({scrollTop : off_top  }, 400)
                  agree_tit.addClass("on")

            }
              return false
        });
    })


</script>
